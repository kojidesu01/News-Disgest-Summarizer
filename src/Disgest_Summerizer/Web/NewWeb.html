<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flipboard - Premium Digital Magazine</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0d0d0d 0%, #121212 100%);
        }
        
        .premium-card {
            background: linear-gradient(145deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            backdrop-filter: blur(10px);
        }
        
        .premium-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 0 32px 64px rgba(0, 0, 0, 0.7), 0 0 0 1px rgba(225, 40, 40, 0.1);
            border-color: rgba(225, 40, 40, 0.2);
        }
        
        .image-overlay {
            background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.3) 50%, rgba(0, 0, 0, 0.8) 100%);
        }
        
        .skeleton-shimmer {
            background: linear-gradient(90deg, #1a1a1a 25%, #2a2a2a 50%, #1a1a1a 75%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        .text-gradient {
            background: linear-gradient(135deg, #ffffff 0%, #e5e5e5 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .nav-link {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            right: 0;
            height: 2px;
            background: #E12828;
            border-radius: 1px;
        }
        
        .action-button {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .action-button:hover {
            transform: scale(1.15);
        }
        
        .liked { color: #E12828 !important; }
        .saved { color: #F59E0B !important; }
        
        .publisher-badge {
            background: linear-gradient(135deg, #E12828 0%, #c41e3a 100%);
            box-shadow: 0 4px 12px rgba(225, 40, 40, 0.3);
        }
        
        .hero-section {
            background: radial-gradient(ellipse at center, rgba(225, 40, 40, 0.1) 0%, transparent 70%);
        }
        
        .section-divider {
            background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.1) 50%, transparent 100%);
            height: 1px;
        }
        
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body class="text-white min-h-screen">
    <!-- Premium Navigation -->
    <nav class="sticky top-0 z-50 bg-black/95 backdrop-blur-xl border-b border-white/10">
        <div class="max-w-8xl mx-auto px-6 lg:px-8">
            <div class="flex items-center justify-between h-18">
                <!-- Premium Logo -->
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-red-500 to-red-700 rounded-lg flex items-center justify-center shadow-lg">
                        <span class="text-white font-bold text-lg">S</span>
                    </div>
                    <span class="text-2xl font-bold tracking-tight text-gradient">SCOPE</span>
                </div>
                
                <!-- Category Navigation -->
                <div class="hidden lg:flex items-center space-x-3">
                    <button class="nav-link text-gray-300 hover:text-white font-medium transition-all duration-300 active" data-category="all">All</button>
                    <button class="nav-link text-gray-300 hover:text-white font-medium transition-all duration-300" data-category="news">News</button>
                    <button class="nav-link text-gray-300 hover:text-white font-medium transition-all duration-300" data-category="entertainment">Entertainment</button>
                    <button class="nav-link text-gray-300 hover:text-white font-medium transition-all duration-300" data-category="technology">Technology</button>
                    <button class="nav-link text-gray-300 hover:text-white font-medium transition-all duration-300" data-category="business">Business</button>
                    <button class="nav-link text-gray-300 hover:text-white font-medium transition-all duration-300" data-category="sports">Sports</button>
                    
                </div>
                
                <!-- Search & Authentication -->
                <div class="flex items-center space-x-5">
                    <div class="relative hidden md:block">
                        <input type="text" placeholder="Discover stories..." 
                               class="bg-white/5 border border-white/10 text-white placeholder-gray-400 px-5 py-3 pl-12 rounded-xl w-72 focus:outline-none focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 transition-all duration-300">
                        <i class="fas fa-search absolute left-4 top-4 text-gray-400"></i>
                    </div>
                    <button class="bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg">
                        Sign Up
                    </button>
                    <button class="border border-white/20 hover:border-white/40 hover:bg-white/5 px-6 py-3 rounded-xl font-semibold transition-all duration-300">
                        Log In
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile Navigation -->
        <div class="lg:hidden px-6 pb-4">
            <div class="flex space-x-6 overflow-x-auto scrollbar-hide">
                <button class="nav-link text-gray-300 hover:text-white font-medium whitespace-nowrap active" data-category="all">All</button>
                <button class="nav-link text-gray-300 hover:text-white font-medium whitespace-nowrap" data-category="news">News</button>
                <button class="nav-link text-gray-300 hover:text-white font-medium whitespace-nowrap" data-category="tech">Tech</button>
                <button class="nav-link text-gray-300 hover:text-white font-medium whitespace-nowrap" data-category="travel">Travel</button>
                <button class="nav-link text-gray-300 hover:text-white font-medium whitespace-nowrap" data-category="food">Food</button>
                <button class="nav-link text-gray-300 hover:text-white font-medium whitespace-nowrap" data-category="entertainment">Entertainment</button>
                <button class="nav-link text-gray-300 hover:text-white font-medium whitespace-nowrap" data-category="sports">Sports</button>
                <button class="nav-link text-gray-300 hover:text-white font-medium whitespace-nowrap" data-category="tv">TV</button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section py-12">
        <div class="max-w-8xl mx-auto px-6 lg:px-8">
            <div class="text-center mb-12">
                <h1 class="text-5xl lg:text-7xl font-bold mb-6 text-gradient leading-tight">
                    Your Premium<br>Digital Magazine
                </h1>
                <p class="text-xl text-gray-400 max-w-2xl mx-auto leading-relaxed">
                    Discover curated stories from the world's best publishers, beautifully presented in our signature magazine format.
                </p>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="max-w-8xl mx-auto px-6 lg:px-8 pb-20">
    
        <div id="articles-board">
            
            <div class="flex items-center justify-between mb-12">
                <div>
                    <h2 id="section-title" class="text-3xl font-bold text-white mb-2">Latest Stories</h2>
                    <p class="text-gray-400">Handpicked articles from trusted sources</p>
                </div>
                <div class="section-divider flex-1 ml-8"></div>
            </div>

            <div id="loading-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <div class="skeleton-shimmer rounded-2xl h-96"></div>
                <div class="skeleton-shimmer rounded-2xl h-96"></div>
                <div class="skeleton-shimmer rounded-2xl h-96"></div>
                <div class="skeleton-shimmer rounded-2xl h-96"></div>
                <div class="skeleton-shimmer rounded-2xl h-96"></div>
                <div class="skeleton-shimmer rounded-2xl h-96"></div>
                <div class="skeleton-shimmer rounded-2xl h-96"></div>
                <div class="skeleton-shimmer rounded-2xl h-96"></div>
            </div>

            <div id="articles-container" class="hidden">
                <div id="articles-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                </div>
            </div>

            <div id="error-state" class="text-center py-20 hidden">
                <div class="premium-card p-12 max-w-lg mx-auto rounded-2xl">
                    <i class="fas fa-exclamation-triangle text-6xl text-red-500 mb-6"></i>
                    <h3 class="text-3xl font-bold mb-4">Unable to Load Stories</h3>
                    <p class="text-gray-400 mb-8 text-lg">We're experiencing technical difficulties. Please try again in a moment.</p>
                    <button onclick="loadArticles()" class="bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-8 py-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105">
                        <i class="fas fa-redo mr-3"></i>Retry Loading
                    </button>
                </div>
            </div>
            
        </div>
        <section id="article-view" class="hidden max-w-4xl mx-auto px-6 py-12">
            <button onclick="backToBoard()" class="text-gray-400 hover:text-white mb-8 flex items-center space-x-2">
                <i class="fas fa-arrow-left"></i><span>Back to Board</span>
            </button>
            <article id="article-detail" class="premium-card rounded-2xl p-8">
                </article>
        </section>
    </main>

    <!-- Premium Footer -->
    <footer class="bg-black/50 border-t border-white/10 mt-20">
        <div class="max-w-8xl mx-auto px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div class="md:col-span-2">
                    <div class="flex items-center space-x-4 mb-6">
                        <div class="w-8 h-8 bg-gradient-to-br from-red-500 to-red-700 rounded-lg flex items-center justify-center">
                            <span class="text-white font-bold">F</span>
                        </div>
                        <span class="text-xl font-bold text-gradient">FLIPBOARD</span>
                    </div>
                    <p class="text-gray-400 text-lg leading-relaxed max-w-md">
                        The world's premium digital magazine, curating the best stories from trusted publishers worldwide.
                    </p>
                </div>
                <div>
                    <h4 class="font-semibold text-white mb-4">Categories</h4>
                    <div class="space-y-2">
                        <a href="#" class="block text-gray-400 hover:text-white transition-colors">Technology</a>
                        <a href="#" class="block text-gray-400 hover:text-white transition-colors">Business</a>
                        <a href="#" class="block text-gray-400 hover:text-white transition-colors">Entertainment</a>
                        <a href="#" class="block text-gray-400 hover:text-white transition-colors">Sports</a>
                    </div>
                </div>
                <div>
                    <h4 class="font-semibold text-white mb-4">Connect</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors text-xl">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors text-xl">
                            <i class="fab fa-facebook"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors text-xl">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors text-xl">
                            <i class="fab fa-linkedin"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="section-divider my-8"></div>
            <div class="text-center text-gray-500">
                <p>&copy; 2024 Flipboard. All rights reserved. Premium digital magazine experience.</p>
            </div>
        </div>
    </footer>

    <script>
        let allArticles = [];
        let currentCategory = 'all';

        // üîπ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏∏‡πà‡∏°‡∏™‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Publisher Badge
        function getPublisherColor(sourceName) {
            const colors = ['#3B82F6', '#10B981', '#8B5CF6', '#F59E0B', '#EF4444', '#06B6D4', '#84CC16', '#F97316'];
            let hash = 0;
            for (let i = 0; i < sourceName.length; i++) {
                hash = sourceName.charCodeAt(i) + ((hash << 5) - hash);
            }
            return colors[Math.abs(hash) % colors.length];
        }

        // üîπ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤
        function formatTimeAgo(dateString) {
            const now = new Date();
            const publishedDate = new Date(dateString);
            if (isNaN(publishedDate)) return 'Unknown time';
            const diffInHours = Math.floor((now - publishedDate) / (1000 * 60 * 60));
            if (diffInHours < 1) return 'Just now';
            if (diffInHours < 24) return `${diffInHours}h ago`;
            const diffInDays = Math.floor(diffInHours / 24);
            if (diffInDays < 7) return `${diffInDays}d ago`;
            return publishedDate.toLocaleDateString();
        }

        // üîπ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏Ç‡πà‡∏≤‡∏ß (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡πÉ‡∏ä‡πâ article.id ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö openArticle)
        function createPremiumCard(article) {
            // ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á source name ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            const sourceName = article.source || (article.source?.name ? article.source.name : "Unknown Source"); 
            const publisherInitial = sourceName.charAt(0).toUpperCase();
            const publisherColor = getPublisherColor(sourceName);
            const timeAgo = formatTimeAgo(article.publishedAt);

            // ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç onclick ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ article.id
            return `
                <article class="premium-card rounded-2xl overflow-hidden cursor-pointer group" onclick="openArticle('${article.id}')">
                    <div class="absolute top-6 left-6 z-20">
                        <div class="publisher-badge w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm" 
                            style="background-color:${publisherColor}">
                            ${publisherInitial}
                        </div>
                    </div>

                    <div class="relative h-56 overflow-hidden">
                        <img src="${article.image}" alt="${article.title}" 
                            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                            onerror="this.src=''; this.style.display='none'; this.parentElement.innerHTML='<div class=\'w-full h-full bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center\'><i class=\'fas fa-image text-gray-600 text-5xl\'></i></div>'">
                    </div>

                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-4 leading-tight text-white group-hover:text-gray-100 transition-colors duration-300 line-clamp-3">
                            ${article.title}
                        </h3>
                        <div class="flex items-center justify-between mb-6">
                            <div>
                                <p class="font-semibold text-gray-200 text-sm">${article.author || 'Unknown Author'}</p>
                                <p class="text-gray-400 text-xs font-medium">${sourceName}</p>
                            </div>
                        </div>
                        <div class="flex items-center justify-between pt-4 border-t border-white/10">
                            <button class="action-button flex items-center space-x-2 text-gray-400 hover:text-red-500 transition-all duration-300"
                                onclick="event.stopPropagation(); toggleLike('${article.id}', this)">
                                <i class="far fa-heart text-lg"></i>
                                <span class="text-sm font-semibold">${article.likes?.toLocaleString?.() || 0}</span>
                            </button>

                            <button class="action-button text-gray-400 hover:text-yellow-500 transition-all duration-300"
                                onclick="event.stopPropagation(); toggleSave('${article.id}', this)">
                                <i class="far fa-bookmark text-lg"></i>
                            </button>
                        </div>
                    </div>
                </article>
            `;
        }

        // üîπ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏á‡πÉ‡∏ô Grid
        function renderArticles(articles) {
            const grid = document.getElementById('articles-grid');
            if (articles.length === 0) {
                grid.innerHTML = `
                    <div class="col-span-full text-center py-20">
                        <div class="premium-card p-12 max-w-md mx-auto rounded-2xl">
                            <i class="fas fa-newspaper text-6xl text-gray-600 mb-6"></i>
                            <h3 class="text-2xl font-bold text-gray-300 mb-3">No Stories Found</h3>
                            <p class="text-gray-500">Try exploring a different category</p>
                        </div>
                    </div>
                `;
            } else {
                // ‡πÉ‡∏ä‡πâ map ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î
                grid.innerHTML = articles.map(createPremiumCard).join('');
            }
        }

        // üîπ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏≠‡∏á‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
        function displayArticles(category = currentCategory) {
            const filteredArticles = category === 'all'
                ? allArticles
                : allArticles.filter(article => article.category === category);

            renderArticles(filteredArticles);
            const title = document.getElementById('section-title');
            title.textContent = category === 'all' ? 'Latest Stories' : `${category.charAt(0).toUpperCase() + category.slice(1)} News`;
        }

        // üîπ ‡πÇ‡∏´‡∏•‡∏î‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å JSON
        async function loadArticles() {
            const loading = document.getElementById('loading-grid');
            const container = document.getElementById('articles-container');
            const errorState = document.getElementById('error-state');

            // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î
            loading.classList.remove('hidden');
            container.classList.add('hidden');
            errorState.classList.add('hidden');
            document.getElementById('articles-board').classList.remove('hidden');
            document.getElementById('article-view').classList.add('hidden'); 

            try {
                console.log('Fetching data from Python API...');
                
                // Flask API Server
                const API_URL = 'http://127.0.0.1:5000/api/articles'; 
                
                // ‡πÉ‡∏ä‡πâ API URL ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                const response = await fetch(API_URL); 
                if (!response.ok) throw new Error(`‚ùå Failed to fetch API: ${response.status}`);

                const jsonData = await response.json();
                const rawArticles = jsonData.articles || jsonData; 

                //‡πÅ‡∏õ‡∏•‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
                allArticles = rawArticles.map((item) => ({
                    id: item.id || crypto.randomUUID(),
                    title: item.title || 'Untitled',
                    author: item.author || item.source?.name || 'Unknown',
                    source: item.source?.name || 'Unknown',
                    image: item.urlToImage || item.image || 'https://via.placeholder.com/600x400?text=No+Image',
                    url: item.url || '#',
                    publishedAt: item.publishedAt || new Date().toISOString(),
                    // ‡πÉ‡∏ä‡πâ description ‡πÄ‡∏õ‡πá‡∏ô content ‡∏™‡∏≥‡∏£‡∏≠‡∏á ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ content
                    content: item.content || item.description || 'No content available. Click "Read Full Article" to view on external site.', 
                    summary: item.summary || 'No summary data',
                    likes: Math.floor(Math.random() * 1000),
                    comments: Math.floor(Math.random() * 100),
                    shares: Math.floor(Math.random() * 50),
                    saved: false,
                    category: (item.source?.category || item.category || 'news').toLowerCase().trim()
                }));

                console.log(`‚úÖ Loaded ${allArticles.length} articles`);

                // ‡∏ã‡πà‡∏≠‡∏ô loading ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
                loading.classList.add('hidden');
                container.classList.remove('hidden');
                setupCategoryFilter();
                displayArticles(currentCategory);
                
            } catch (error) {
                console.error('‚ùó Error loading articles:', error);
                loading.classList.add('hidden');
                errorState.classList.remove('hidden');
            }
        }

        // üîπ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ ID ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô)
        function openArticle(id) {
            const article = allArticles.find(a => a.id === id);
            if (!article) return;

            // ‡∏ã‡πà‡∏≠‡∏ô Board ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á Article View
            document.getElementById('articles-board').classList.add('hidden');
            document.getElementById('article-view').classList.remove('hidden');
            window.scrollTo(0, 0); // ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô

            const detail = document.getElementById('article-detail');
            detail.innerHTML = `
                <img src="${article.image}" class="rounded-2xl mb-6 w-full max-h-96 object-cover" 
                    alt="${article.title}" onerror="this.style.display='none'">
                <h1 class="text-4xl font-bold text-white mb-4">${article.title}</h1>
                <div class="flex items-center justify-between text-gray-400 mb-6 border-b border-white/10 pb-4">
                    <p>By <span class="font-semibold text-white">${article.author || 'Unknown'}</span> ‚Ä¢ ${formatTimeAgo(article.publishedAt)}</p>
                    <div class="publisher-badge w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-xs" 
                        style="background-color:${getPublisherColor(article.source)}">
                        ${article.source.charAt(0).toUpperCase()}
                    </div>
                </div>
                <p class="text-xl text-gray-300 leading-relaxed mb-8">${article.summary}</p>
                <div class="flex justify-between items-center pt-4 border-t border-white/10">
                    <a href="${article.url}" target="_blank" rel="noopener noreferrer"
                        class="inline-flex items-center space-x-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-6 py-3 rounded-xl font-semibold transition-transform hover:scale-105 shadow-lg">
                        <span>Read Full Article on ${article.source}</span>
                        <i class="fas fa-external-link-alt"></i>
                    </a>
                </div>
            `;
        }

        // üîπ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Board
        function backToBoard() {
            document.getElementById('article-view').classList.add('hidden');
            document.getElementById('articles-board').classList.remove('hidden');
            window.scrollTo(0, 0); // ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô
        }

        // üîπ ‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ï‡πå‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
        function toggleLike(id, btn) {
            const article = allArticles.find(a => a.id === id);
            if (!article) return;
            const icon = btn.querySelector('i');
            const span = btn.querySelector('span');
            
            // ‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Like ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô
            if (icon.classList.contains('far')) {
                icon.classList.replace('far', 'fas');
                icon.classList.add('liked'); 
                article.likes++;
            } else {
                icon.classList.replace('fas', 'far');
                icon.classList.remove('liked'); 
                article.likes--;
            }
            span.textContent = article.likes.toLocaleString();
        }
        
        function toggleSave(id, btn) {
            const article = allArticles.find(a => a.id === id);
            if (!article) return;
            const icon = btn.querySelector('i');
            article.saved = !article.saved;

            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏µ Save
            if (article.saved) {
                icon.classList.replace('far', 'fas');
                icon.classList.add('saved'); 
            } else {
                icon.classList.replace('fas', 'far');
                icon.classList.remove('saved'); 
            }
        }
        
        function shareArticle(id) {
            const article = allArticles.find(a => a.id === id);
            if (navigator.share && article) {
                navigator.share({
                    title: article.title,
                    url: article.url || window.location.href
                });
            }
        }
        
        // üîπ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
        function setupCategoryFilter() {
            const categoryButtons = document.querySelectorAll('.nav-link[data-category]');

            categoryButtons.forEach(button => {
                button.addEventListener('click', () => {
                    categoryButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    currentCategory = button.dataset.category;
                    displayArticles(currentCategory);
                });
            });
        }

        // üîπ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠ DOM ‡∏û‡∏£‡πâ‡∏≠‡∏°
        document.addEventListener('DOMContentLoaded', loadArticles);
    </script>

<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98a5674da0b6ee29',t:'MTc1OTc1NjI3NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
</body>
</html>
